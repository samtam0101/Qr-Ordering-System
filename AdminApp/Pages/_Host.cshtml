@page "/"
@namespace AdminApp.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{ Layout = null; }
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin</title>
  <base href="~/" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="css/site.css" rel="stylesheet" />
</head>
<body>
  <app>
    <component type="typeof(App)" render-mode="ServerPrerendered" />
  </app>
  <script>
      window.admin = {
        copyText: async function (text) {
          try {
            await navigator.clipboard.writeText(text);
          } catch (e) {
            // Fallback if clipboard API is blocked
            const i = document.createElement("input");
            i.value = text;
            document.body.appendChild(i);
            i.select();
            try { document.execCommand("copy"); } catch {}
            document.body.removeChild(i);
          }
        }
      };
    </script>
    <script>
  // robust clipboard helpers
  window.admin = window.admin || {};
  window.admin.copyText = async function (text) {
    try {
      await navigator.clipboard.writeText(text);
    } catch (e) {
      const i = document.createElement('textarea');
      i.value = text;
      i.style.position = 'fixed';
      i.style.left = '-1000px';
      document.body.appendChild(i);
      i.focus(); i.select();
      try { document.execCommand('copy'); } catch {}
      document.body.removeChild(i);
    }
  };
  // called directly from an HTML onclick so it counts as a user gesture
  window.adminCopyNow = function (btn) {
    const url = btn.getAttribute('data-url');
    if (!url) return;
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(url);
    } else {
      window.admin.copyText(url);
    }
  };
</script>
  <script src="_framework/blazor.server.js"></script>
</body>
</html>
